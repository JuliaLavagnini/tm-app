{% extends "base.html" %} {% block content %}

<h1>Task Management</h1>
{{ tasks|selectattr('task_name')|list|length }}
{{ tasks|selectattr('priority','equalto','High')|list|length }}
<h2>Upcoming Tasks</h2>
<table>
  <thead>
    <tr>
      <th>Task</th>
      <th>Description</th>
      <th>Due</th>
      <th>Team</th>
      <th>Priority</th>
      <th>Assign to</th>
    </tr>
  </thead>
  <tbody>
    {% for task in tasks %}
    <tr>
      <td>{{ task.task_name }}</td>
      <td>{{ task.description }}</td>
      <td>{{ task.due }}</td>
      <td>{{ task.team }}</td>
      <td>{{ task.priority }}</td>
      <td>{{ task.created_by }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<h2>Completed Tasks</h2>
<table>
  <thead>
    <tr>
      <th>Task Name</th>
      <th>Deadline</th>
    </tr>
  </thead>
  <tbody>
    {% for task in tasks.completed %}
    <tr>
      <td>{{ task.name }}</td>
      <td>{{ task.deadline }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
